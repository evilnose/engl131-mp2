{"version":3,"sources":["Controller.js","Main.js","App.js","serviceWorker.js","index.js"],"names":["Controller","changeTitleFn","Object","classCallCheck","this","sceneText","choices","oldText","_entry","push","ti","sceneTitle","str","handlerFn","text","doNotClear","_this","handler","clear","call","lookedAtMirror","ropesCast","bookRead","noteRead","curtainsOpened","touchDiscovered","suicideAttempted","relocated","dumbleMet","drawWandTooLate","glovesRemoved","beenToDark","beenToOffice","defied","title","allow","_walkAlong","_getDrink","_order","bind","drink","concat","_ignoreCommotion","_investigateCommotion","_fleeFromPotter","_greetPotter","_drawWand","_shakeHands","_fleeForReal","_restart","_theOffice","_this2","_takeBook","_exitOffice","_openCurtains","_readBook","_roundJunction","_nextToMirror","_darkHallway","_tower","_pathToQuidditch","_readNote","_meetDumbledore","_this3","_jumpDown","_this4","_lookAtMirror","_afterMirror","what","_this5","_stadium","_quidditchStand","_chant","_sacrifice","_refuseToChant","_relocate","_finalChapter","_wrath","strategy","_useTheBoy","_breakMirror","killBoy","_seizeHim","_castRopes","_refuseToSeize","glovesOn","_grabStone","_hide","_imperio","Main","props","possibleConstructorReturn","getPrototypeOf","state","ctrl","document","setState","choiceDivs","map","choice","idx","react_default","a","createElement","onClick","callHandler","key","className","dangerouslySetInnerHTML","__html","Component","App","started","Main_Main","Boolean","window","location","hostname","match","ReactDOM","render","BrowserRouter","src_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"8PAAqBA,aACjB,SAAAA,EAAYC,GAAgBC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,GACxBI,KAAKC,UAAY,GACjBD,KAAKE,QAAU,GACfF,KAAKG,QAAU,GACfH,KAAKH,cAAgBA,EACrBG,KAAKI,6DAILJ,KAAKG,QAAQE,KAAKL,KAAKC,WACvBD,KAAKC,UAAY,GACjBD,KAAKE,QAAU,iCAGbI,GACFN,KAAKO,WAAaD,EAClBN,KAAKH,cAAcS,gCAGlBE,GACDR,KAAKC,WAAaO,gCAGhBC,EAAWC,EAAMC,GAAY,IAAAC,EAAAZ,KAC/BA,KAAKE,QAAQG,KAAK,CACdQ,QAAS,WACAF,GACDC,EAAKE,QAETL,EAAUM,KAAKH,IAEnBF,4CAKJV,KAAKc,QACLd,KAAKG,QAAU,GACfH,KAAKgB,gBAAiB,EACtBhB,KAAKiB,WAAY,EACjBjB,KAAKkB,UAAW,EAChBlB,KAAKmB,UAAW,EAChBnB,KAAKoB,gBAAiB,EACtBpB,KAAKqB,iBAAkB,EACvBrB,KAAKsB,kBAAmB,EACxBtB,KAAKuB,WAAY,EACjBvB,KAAKwB,WAAY,EACjBxB,KAAKyB,iBAAkB,EACvBzB,KAAK0B,eAAgB,EACrB1B,KAAK2B,YAAa,EAClB3B,KAAK4B,cAAe,EACpB5B,KAAK6B,QAAS,EACd7B,KAAKI,0CAILJ,KAAK8B,MAAM,gBACX9B,KAAKU,KAAL,6VAMAV,KAAK+B,MAAM/B,KAAKgC,WAAY,wCAC5BhC,KAAK+B,MAAM/B,KAAKiC,UAAW,wFAI3BjC,KAAK8B,MAAM,gBACX9B,KAAKU,KAAL,8NAIAV,KAAK+B,MAAM/B,KAAKiC,UAAW,mCAC3BjC,KAAK+B,MAAM/B,KAAKiC,UAAW,sFAI3BjC,KAAK8B,MAAM,sBACX9B,KAAKU,KAAL,2NAMAV,KAAK+B,MAAM/B,KAAKkC,OAAOC,KAAKnC,KAAM,QAAS,cAC3CA,KAAK+B,MAAM/B,KAAKkC,OAAOC,KAAKnC,KAAM,QAAS,mBAC3CA,KAAK+B,MAAM/B,KAAKkC,OAAOC,KAAKnC,KAAM,UAAW,gBAC7CA,KAAK+B,MAAM/B,KAAKkC,OAAOC,KAAKnC,KAAM,QAAS,kDAGxCoC,GACH,IAAI1B,EACJ,OAAQ0B,GACJ,IAAK,OACD1B,EAAI,qEACJ,MACJ,IAAK,OACDA,EAAI,yMAGJV,KAAK0B,eAAgB,EACrB,MACJ,QACIhB,EAAI,sCAAA2B,OAAyCD,EAAzC,qDAGZpC,KAAKU,KAAL,aAAA2B,OACE3B,EADF,uEAIAV,KAAK+B,MAAM/B,KAAKsC,iBAAkB,UAClCtC,KAAK+B,MAAM/B,KAAKuC,sBAAuB,+DAIvCvC,KAAKU,KAAL,scAQAV,KAAK+B,MAAM/B,KAAKwC,gBAAiB,QACjCxC,KAAK+B,MAAM/B,KAAKyC,aAAc,gBAC9BzC,KAAK+B,MAAM/B,KAAK0C,UAAW,wDAI3B1C,KAAKU,KAAL,yNAMAV,KAAK+B,MAAM/B,KAAKwC,gBAAiB,QACjCxC,KAAK+B,MAAM/B,KAAKyC,aAAc,gBAC9BzC,KAAK+B,MAAM/B,KAAK0C,UAAW,uDAI3B1C,KAAKU,KAAL,2SAMAV,KAAKyC,sDAILzC,KAAKU,KAAL,yTAMAV,KAAKyB,iBAAkB,EACvBzB,KAAK+B,MAAM/B,KAAK2C,YAAa,eAC7B3C,KAAK+B,MAAM/B,KAAK0C,UAAW,iDAIvB1C,KAAKyB,iBACLzB,KAAKU,KAAL,qTAMAV,KAAK4C,iBAEL5C,KAAK8B,MAAM,aACX9B,KAAKU,KAAL,yxBAYAV,KAAK+B,MAAM/B,KAAK6C,SAAU,kDAK9B7C,KAAKU,KAAL,6DACIV,KAAK0B,eACL1B,KAAKqB,iBAAkB,EACvBrB,KAAKU,KAAL,0eAUAV,KAAKU,KAAL,oHAIJV,KAAKU,KAAK,cACVV,KAAK4C,sDAIL5C,KAAK8B,MAAM,gBACX9B,KAAKU,KAAL,yFACAV,KAAK+B,MAAM/B,KAAK8C,WAAY,iDAGnB,IAAAC,EAAA/C,KACTA,KAAK8B,MAAM,+BACN9B,KAAK4B,eACN5B,KAAK4B,cAAe,EACpB5B,KAAKU,KAAK,+CACNV,KAAKqB,iBACLrB,KAAKU,KAAK,qDAEdV,KAAKU,KAAK,eAEVV,KAAKoB,eACLpB,KAAKU,KAAL,uKAKAV,KAAKU,KAAL,gVAQJV,KAAK+B,MAAM,WACHgB,EAAK3B,eACA2B,EAAK7B,SAIN6B,EAAKrC,KAAK,uCAHVqC,EAAKrC,KAAK,2FACVqC,EAAKhB,MAAMgB,EAAKC,UAAW,cAK/BD,EAAKrC,KAAK,6EAEf,eAAe,GAClBV,KAAK+B,MAAM/B,KAAKiD,YAAa,eACxBjD,KAAKoB,gBACNpB,KAAK+B,MAAM/B,KAAKkD,cAAe,yDAInClD,KAAK8B,MAAM,+BACX9B,KAAKoB,gBAAiB,EACtBpB,KAAKU,KAAL,gPAKAV,KAAK8C,iDAIL9C,KAAKU,KAAL,8KAGAV,KAAK+B,MAAM/B,KAAKmD,UAAW,aAC3BnD,KAAK+B,MAAM/B,KAAKiD,YAAa,mDAI7BjD,KAAKkB,UAAW,EAChBlB,KAAKU,KAAL,mXAMAV,KAAK+B,MAAM/B,KAAKiD,YAAa,qDAI7BjD,KAAK8B,MAAM,mBACX9B,KAAKU,KAAL,4PAMAV,KAAK+B,MAAM/B,KAAKoD,eAAgB,YAChCpD,KAAK+B,MAAM/B,KAAK8C,WAAY,WAC5B9C,KAAK+B,MAAM/B,KAAKqD,cAAe,qDAI/BrD,KAAK8B,MAAM,kBACX9B,KAAKU,KAAL,8TAMAV,KAAK+B,MAAM/B,KAAKsD,aAAc,WAC9BtD,KAAK+B,MAAM/B,KAAKiD,YAAa,YAC7BjD,KAAK+B,MAAM/B,KAAKuD,OAAQ,WACxBvD,KAAK+B,MAAM/B,KAAKwD,iBAAkB,mDAIlCxD,KAAK8B,MAAM,gBACN9B,KAAK2B,YAUN3B,KAAKU,KAAK,yEACVV,KAAK+B,MAAM/B,KAAKoD,eAAgB,aAVhCpD,KAAK2B,YAAa,EAClB3B,KAAKU,KAAL,+MAIAV,KAAK+B,MAAM/B,KAAKyD,UAAW,cAC3BzD,KAAK+B,MAAM/B,KAAKoD,eAAgB,WAChCpD,KAAK+B,MAAM/B,KAAK0D,gBAAiB,gDAQhC1D,KAAKmB,SAsBNnB,KAAKU,KAAL,oPArBAV,KAAKmB,UAAW,EAChBnB,KAAKU,KAAL,umCA4BJV,KAAK+B,MAAM/B,KAAKyD,UAAW,aAC3BzD,KAAK+B,MAAM/B,KAAK0D,gBAAiB,WACjC1D,KAAK+B,MAAM/B,KAAKoD,eAAgB,qDAI5BpD,KAAKmB,UACLnB,KAAKwB,WAAY,EACjBxB,KAAKU,KAAL,qaAQAV,KAAKU,KAAL,2UAMAV,KAAK+B,MAAM/B,KAAK0D,gBAAiB,YAErC1D,KAAK+B,MAAM/B,KAAKyD,UAAW,aAC3BzD,KAAK+B,MAAM/B,KAAKoD,eAAgB,4CAG3B,IAAAO,EAAA3D,KACLA,KAAK8B,MAAM,mBACX9B,KAAKsB,kBAAmB,EACxBtB,KAAKU,KAAL,4KAIAV,KAAK+B,MAAM,WACP4B,EAAKjD,KAAK,iCACViD,EAAKJ,UACN,WACHvD,KAAK+B,MAAM/B,KAAKoD,eAAgB,WAChCpD,KAAK+B,MAAM/B,KAAK4D,UAAW,gDAGnB,IAAAC,EAAA7D,KACRA,KAAKU,KAAL,4dASAV,KAAK+B,MAAM,WACP8B,EAAKnD,KAAK,iCACVmD,EAAKN,UACN,WACHvD,KAAK+B,MAAM/B,KAAKoD,eAAgB,WAChCpD,KAAK+B,MAAM/B,KAAK4D,UAAW,oDAIvB5D,KAAKgB,gBACLhB,KAAK8B,MAAM,qBACX9B,KAAKU,KAAL,6TAOAV,KAAK8B,MAAM,wBACX9B,KAAKU,KAAL,mTAOAV,KAAK+B,MAAM/B,KAAK8D,cAAe,mBAEnC9D,KAAK+B,MAAM/B,KAAKiD,YAAa,oDAI7BjD,KAAKgB,gBAAiB,EACtBhB,KAAKU,KAAL,+FAGAV,KAAK+B,MAAM/B,KAAK+D,aAAa5B,KAAKnC,KAAM,WAAxC,qGAEAA,KAAK+B,MAAM/B,KAAK+D,aAAa5B,KAAKnC,KAAM,QAAS,oEACjDA,KAAK+B,MAAM/B,KAAK+D,aAAa5B,KAAKnC,KAAM,WAAxC,8JAEAA,KAAK+B,MAAM/B,KAAK+D,aAAa5B,KAAKnC,KAAM,SAAxC,kIAGIA,KAAKwB,WACLxB,KAAK+B,MAAM/B,KAAK+D,aAAa5B,KAAKnC,KAAM,QAAxC,kJAMKgE,GAAM,IAAAC,EAAAjE,KACf,OAAQgE,GACJ,IAAK,UACDhE,KAAKU,KAAL,+EACA,MACJ,IAAK,UACDV,KAAKU,KAAL,qGACA,MACJ,IAAK,QACDV,KAAKU,KAAK,uDACVV,KAAK+B,MAAM,WACPkC,EAAKvD,KAAK,uEACVuD,EAAKlC,MAAMkC,EAAKb,eAAgB,aACjC,yDACH,MACJ,IAAK,OACDpD,KAAK6B,QAAS,EACd7B,KAAKU,KAAL,qUAMA,MACJ,IAAK,OACDV,KAAKU,KAAL,oFACA,MACJ,QACIV,KAAKU,KAAK,4DAGlBV,KAAK+B,MAAM/B,KAAKoD,eAAgB,uDAIhCpD,KAAK8B,MAAM,qBACX9B,KAAKU,KAAL,uKAIAV,KAAK+B,MAAM/B,KAAKkE,SAAU,YAC1BlE,KAAK+B,MAAM/B,KAAKoD,eAAgB,+CAIhCpD,KAAK8B,MAAM,qBACX9B,KAAKU,KAAK,oFACVV,KAAK+B,MAAM/B,KAAKmE,gBAAiB,iBACjCnE,KAAK+B,MAAM/B,KAAKwD,iBAAkB,sDAIlCxD,KAAK8B,MAAM,mBACX9B,KAAKU,KAAL,4ZAOAV,KAAK+B,MAAM/B,KAAKoE,OAAQ,yBACpBpE,KAAK6B,QAAU7B,KAAKsB,kBAAoBtB,KAAKkB,UAC7ClB,KAAK+B,MAAM/B,KAAKqE,WAAY,uBAEhCrE,KAAK+B,MAAM/B,KAAKsE,eAAgB,mBAChCtE,KAAK+B,MAAM/B,KAAKuE,UAAW,uDAIvBvE,KAAKkB,UACLlB,KAAKU,KAAL,uXAQIV,KAAKuB,UACLvB,KAAKU,KAAL,8lBASAV,KAAKU,KAAL,oYAQJV,KAAK+B,MAAM/B,KAAKwE,cAAe,cAE/BxE,KAAKU,KAAL,sXAOAV,KAAK+B,MAAM/B,KAAKyE,OAAOtC,KAAKnC,KAAM,WAAlC,0JAGAA,KAAK+B,MAAM/B,KAAKyE,OAAOtC,KAAKnC,KAAM,UAAlC,iIAGAA,KAAK+B,MAAM/B,KAAKyE,OAAOtC,KAAKnC,KAAM,OAAlC,6KAOJA,KAAKU,KAAL,iVAOAV,KAAK+B,MAAM/B,KAAKoE,OAAQ,yBACxBpE,KAAK+B,MAAM/B,KAAKoE,OAAQ,8DAIxBpE,KAAK8B,MAAM,aACX9B,KAAKU,KAAL,2zBAcAV,KAAK+B,MAAM/B,KAAK6C,SAAU,0CAGvB6B,GAEH,OADA1E,KAAK8B,MAAM,aACJ4C,GACH,IAAK,UACD1E,KAAKU,KAAL,qIAGA,MACJ,IAAK,SACDV,KAAKU,KAAL,wKAIA,MACJ,IAAK,MACDV,KAAKU,KAAK,gEACV,MACJ,QACIV,KAAKU,KAAK,6CAElBV,KAAKU,KAAL,qaASAV,KAAK+B,MAAM/B,KAAK6C,SAAU,+CAI1B7C,KAAKuB,WAAY,EACjBvB,KAAKU,KAAL,sPAIAV,KAAK+B,MAAM/B,KAAKoE,OAAQ,yBACpBpE,KAAK6B,QAAU7B,KAAKsB,kBAAoBtB,KAAKkB,UAC7ClB,KAAK+B,MAAM/B,KAAKqE,WAAY,uBAEhCrE,KAAK+B,MAAM/B,KAAKsE,eAAgB,2DAIhCtE,KAAK8B,MAAM,oBACX9B,KAAKU,KAAL,kwBAaAV,KAAK+B,MAAM/B,KAAK2E,WAAY,eAC5B3E,KAAK+B,MAAM/B,KAAK4E,aAAc,oBAC9B5E,KAAK+B,MAAM/B,KAAK2E,WAAWxC,KAAKnC,MAAM,GAAO,kDAGtC6E,GACHA,GACA7E,KAAKU,KAAL,oRAQJV,KAAKU,KAAL,4jBAUAV,KAAK+B,MAAM/B,KAAK8E,UAAW,gBACvB9E,KAAKqB,iBACLrB,KAAK+B,MAAM/B,KAAK8E,UAAU3C,KAAKnC,MAAM,GAAO,kCAE3CA,KAAKiB,WACNjB,KAAK+B,MAAM/B,KAAK+E,WAAY,cAAc,GAE9C/E,KAAK+B,MAAM/B,KAAKgF,eAAgB,+CAIhChF,KAAKiB,WAAY,EACjBjB,KAAKU,KAAK,iKAGJuE,GACFA,GACAjF,KAAKU,KAAL,6cAQAV,KAAK+B,MAAM/B,KAAKkF,WAAY,kBAC5BlF,KAAK+B,MAAM/B,KAAKmF,MAAO,QACvBnF,KAAK+B,MAAM/B,KAAKoF,SAAU,4BAE1BpF,KAAK8B,MAAM,oCACX9B,KAAKU,KAAL,s1BAeAV,KAAK+B,MAAM/B,KAAK6C,SAAU,qDAK9B7C,KAAK8B,MAAM,aACX9B,KAAKU,KAAL,6SAOAV,KAAK+B,MAAM/B,KAAK6C,SAAU,kDAItB7C,KAAKmB,UACLnB,KAAK8B,MAAM,OACX9B,KAAKU,KAAL,qfAQAV,KAAK8B,MAAM,aACX9B,KAAKU,KAAL,kVAOJV,KAAK+B,MAAM/B,KAAK6C,SAAU,gDAI1B7C,KAAK8B,MAAM,aACX9B,KAAKU,KAAL,ybAOAV,KAAK+B,MAAM/B,KAAK6C,SAAU,2CAI1B7C,KAAK8B,MAAM,aACX9B,KAAKU,KAAL,6jBAUAV,KAAK+B,MAAM/B,KAAK6C,SAAU,8CAI1B7C,KAAK8B,MAAM,aACX9B,KAAKU,KAAL,kxCAmBAV,KAAK+B,MAAM/B,KAAK6C,SAAU,oBC5zBbwC,qBAIjB,SAAAA,EAAYC,GAAO,IAAA1E,EAAA,OAAAd,OAAAC,EAAA,EAAAD,CAAAE,KAAAqF,IACfzE,EAAAd,OAAAyF,EAAA,EAAAzF,CAAAE,KAAAF,OAAA0F,EAAA,EAAA1F,CAAAuF,GAAAtE,KAAAf,KAAMsF,KACDG,MAAQ,CACTC,KAAM,IAAI9F,EAAW,SAACU,GAAQqF,SAAS7D,MAAQxB,KAHpCM,2EAOPH,GACRA,EAAUM,KAAKf,KAAKyF,MAAMC,MAC1B1F,KAAK4F,SAAS,CACVF,KAAM1F,KAAKyF,MAAMC,wCAIhB,IAAA3C,EAAA/C,KACC6F,EAAa7F,KAAKyF,MAAMC,KAAKxF,QAAQ4F,IAAI,SAACC,EAAQC,GAAT,OAC3CC,EAAAC,EAAAC,cAAA,MAAIC,QAAS,kBAAMrD,EAAKsD,YAAYN,EAAOlF,UAAUyF,IAAKN,EAAKO,UAAU,UACrEN,EAAAC,EAAAC,cAAA,SAAIJ,EAAOrF,SASnB,OACIuF,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,UACXN,EAAAC,EAAAC,cAAA,UAAKnG,KAAKyF,MAAMC,KAAKnF,YACrB0F,EAAAC,EAAAC,cAAA,OAAKI,UAAU,SAKXN,EAAAC,EAAAC,cAAA,KAAGK,wBAAyB,CAACC,OAAQzG,KAAKyF,MAAMC,KAAKzF,cAEzDgG,EAAAC,EAAAC,cAAA,MAAII,UAAU,cACTV,YA1CSa,cC8BnBC,cA9BX,SAAAA,EAAYrB,GAAO,IAAA1E,EAAA,OAAAd,OAAAC,EAAA,EAAAD,CAAAE,KAAA2G,IACf/F,EAAAd,OAAAyF,EAAA,EAAAzF,CAAAE,KAAAF,OAAA0F,EAAA,EAAA1F,CAAA6G,GAAA5F,KAAAf,KAAMsF,KACDG,MAAQ,CACTmB,SAAS,GAHEhG,mFAQf+E,SAAS7D,MAAQ,mDAGZ,IAAAiB,EAAA/C,KACL,OAAIA,KAAKyF,MAAMmB,QACJX,EAAAC,EAAAC,cAACU,EAAD,MAEPZ,EAAAC,EAAAC,cAAA,OAAKI,UAAU,OACXN,EAAAC,EAAAC,cAAA,OAAKI,UAAU,UACXN,EAAAC,EAAAC,cAAA,sCACAF,EAAAC,EAAAC,cAAA,sBACAF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAA,OAAKI,UAAU,iBACXN,EAAAC,EAAAC,cAAA,UAAQI,UAAU,YAAYH,QAAS,kBAAMrD,EAAK6C,SAAS,CAACgB,SAAS,MAArE,mBAvBNF,aCQEI,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,uECXNC,IAASC,OACLnB,EAAAC,EAAAC,cAACkB,EAAA,EAAD,KACIpB,EAAAC,EAAAC,cAACmB,EAAD,OACc3B,SAAS4B,eAAe,SDuHxC,kBAAmBC,WACrBA,UAAUC,cAAcC,MAAMC,KAAK,SAAAC,GACjCA,EAAaC","file":"static/js/main.446f2423.chunk.js","sourcesContent":["export default class Controller {\r\n    constructor(changeTitleFn) {\r\n        this.sceneText = '';\r\n        this.choices = [];\r\n        this.oldText = [];\r\n        this.changeTitleFn = changeTitleFn;\r\n        this._entry();\r\n    }\r\n\r\n    clear() {\r\n        this.oldText.push(this.sceneText);\r\n        this.sceneText = '';\r\n        this.choices = [];\r\n    }\r\n\r\n    title(ti) {\r\n        this.sceneTitle = ti;\r\n        this.changeTitleFn(ti);\r\n    }\r\n\r\n    text(str) {\r\n        this.sceneText += str;\r\n    }\r\n\r\n    allow(handlerFn, text, doNotClear) {\r\n        this.choices.push({\r\n            handler: () => {\r\n                if (!doNotClear) {\r\n                    this.clear();\r\n                }\r\n                handlerFn.call(this);\r\n            },\r\n            text,\r\n        });\r\n    }\r\n\r\n    _restart() {\r\n        this.clear();\r\n        this.oldText = [];\r\n        this.lookedAtMirror = false;\r\n        this.ropesCast = false;\r\n        this.bookRead = false;\r\n        this.noteRead = false;\r\n        this.curtainsOpened = false;\r\n        this.touchDiscovered = false;\r\n        this.suicideAttempted = false;\r\n        this.relocated = false;\r\n        this.dumbleMet = false;\r\n        this.drawWandTooLate = false;\r\n        this.glovesRemoved = false;\r\n        this.beenToDark = false;\r\n        this.beenToOffice = false;\r\n        this.defied = false;\r\n        this._entry();\r\n    }\r\n\r\n    _entry() {\r\n        this.title('Diagon Alley');\r\n        this.text(`\r\n        You walk along the bustling Diagon Alley. This is not your first time here, but due to the current\r\n        circumstances, you can't help but be nervous. Why? Someone is after you, but you cannot remember who.\r\n        <br/><br/>\r\n        Your eyes meet the dark windows of the Leaky Cauldron. You suddenly feel very thirsty.\r\n        `);\r\n        this.allow(this._walkAlong, 'Walk along. It is too risky to stay.');\r\n        this.allow(this._getDrink, 'Go inside the Leaky Cauldron. You need a drink.');\r\n    }\r\n\r\n    _walkAlong() {\r\n        this.title('Diagon Alley');\r\n        this.text(`\r\n        A voice at the back of your head tells you that you deserve some rest, and that you should be\r\n        expecting a certain someone. You nod in agreement, though you have no idea who that someone is.\r\n        `);\r\n        this.allow(this._getDrink, 'You turn and walk into the pub.');\r\n        this.allow(this._getDrink, 'You can\\'t help but turn and walk into the pub.');\r\n    }\r\n\r\n    _getDrink() {\r\n        this.title('The Leaky Cauldron');\r\n        this.text(`\r\n        You are inside the Leaky Cauldron. The light is dim in here, and people are chattering. Nobody seems to notice\r\n        you.\r\n        <br/><br/>\r\n        You walk up to the old bartender.        \r\n        `);\r\n        this.allow(this._order.bind(this, 'beer'), 'Order beer');\r\n        this.allow(this._order.bind(this, 'cola'), 'Order Coca-Cola');\r\n        this.allow(this._order.bind(this, 'Sherry'), 'Order Sherry');\r\n        this.allow(this._order.bind(this, 'milk'), 'Order warm milk');\r\n    }\r\n\r\n    _order(drink) {\r\n        let text;\r\n        switch (drink) {\r\n            case 'cola':\r\n                text = `\"...What?\" The bartender does not seem to understand your request.`;\r\n                break;\r\n            case 'milk':\r\n                text = `The bartender is a bit surprised by your request. But after a while, he hands you a warm glass\r\n                    of milk. You remove your gloves as you drink it and feel warmer.\r\n                `;\r\n                this.glovesRemoved = true;\r\n                break;\r\n            default:\r\n                text = `The bartender hands you a glass of ${drink}. You take a few gulps and are no longer thirsty.`;\r\n                break;\r\n        }\r\n        this.text(`\r\n        ${text}\r\n        <br/>You suddenly hear a commotion behind you.\r\n        `);\r\n        this.allow(this._ignoreCommotion, 'Ignore');\r\n        this.allow(this._investigateCommotion, 'Investigate');\r\n    }\r\n\r\n    _investigateCommotion() {\r\n        this.text(`\r\n        Against your better judgements, you walk toward the source of the commotion, where a small\r\n        crowd has already gathered. You raise your head and see a giant of a man who you recognize as Hagrid.\r\n        You look down and see a boy with a lightning-shaped scar on his forehead... Harry Potter! You \r\n        involuntarily recoil in fear.\r\n        <br/><br/>\r\n        But everyone is distracted. This is a great opportunity.\r\n        `);\r\n        this.allow(this._fleeFromPotter, 'Flee');\r\n        this.allow(this._greetPotter, 'Greet Potter');\r\n        this.allow(this._drawWand, 'Draw wand');\r\n    }\r\n\r\n    _ignoreCommotion() {\r\n        this.text(`\r\n        You sit still. But soon your ears catch a name -- but it can't be... You turn around and see him, the\r\n        Boy Who Lived. You shiver.\r\n        <br/><br/>\r\n        You need to make a choice.\r\n        `);\r\n        this.allow(this._fleeFromPotter, 'Flee');\r\n        this.allow(this._greetPotter, 'Greet Potter');\r\n        this.allow(this._drawWand, 'Draw wand');\r\n    }\r\n\r\n    _fleeFromPotter() {\r\n        this.text(`\r\n        You haste to leave as fast as possible. But Hagrid catches you. Curse that giant halfwit! Should have finished\r\n        the job years before.\r\n        <br/><br/>\r\n        \"Professor Quirrell!\" Hagrid says. \"Harry, Professor Quirrell will be one of your teachers at Hogwarts.\"\r\n        `);\r\n        this._greetPotter();\r\n    }\r\n\r\n    _greetPotter() {\r\n        this.text(`\r\n           You stutter to tell Potter how pleased you are to meet him. Potter asks you a few questions, and you make\r\n           up a reason for why you are here.\r\n           <br/><br/>\r\n           Something in the back of your head tells you that this is an opportunity you cannot afford to lose.\r\n        `);\r\n        this.drawWandTooLate = true;\r\n        this.allow(this._shakeHands, 'Shake hands');\r\n        this.allow(this._drawWand, 'Draw wand');\r\n    }\r\n\r\n    _drawWand() {\r\n        if (this.drawWandTooLate) {\r\n            this.text(`\r\n            But it is too late. Guests rush around you to greet Potter and your wand is knocked out of\r\n            your hand. You pick up your wand, but Potter is already surrounded by people. You think to yourself\r\n            that you should have decided sooner.\r\n            <br/><br/>\r\n            `);\r\n            this._fleeForReal();\r\n        } else {\r\n            this.title('Ending #1');\r\n            this.text(`\r\n                You draw out your wand, and a frenzy of thoughts assault you. You want to back down, but it is too late.\r\n                Voldemort's will completely overcomes yours. You raise your wand.\r\n                <br/><br/>\r\n                A raspy voice shouts out \"Avada Kedavra!\". A green light emerges from the tip of\r\n                your wand and connects with Potter. He drops to the ground and dies with his eyes open.\r\n                <br/><br/>\r\n                You are quickly subdued by the crowd. Though you are sentenced\r\n                to die months later, your destiny has been fulfilled. Doom and despair descends upon the wizarding world.\r\n                <br/><br/>\r\n                But does it really matter? You rot six feet below the ground.\r\n            `);\r\n            this.allow(this._restart, 'Restart');\r\n        }\r\n    }\r\n\r\n    _shakeHands() {\r\n        this.text(`You take a step forward to shake Potter's hand.<br/><br/>`);\r\n        if (this.glovesRemoved) {\r\n            this.touchDiscovered = true;\r\n            this.text(\r\n                `\r\n                To your horror, you feel as if your flesh on your hands is melted away as you touch Potter's\r\n                hands. You shriek and jump back.\r\n                <br/><br/>\r\n                Potter and Hagrid are startled, but they are soon overwhelmed by the people swarming to greet them.\r\n                As people rush over you, you see smoke rising from your right hand. You quickly put on your gloves,\r\n                and the pain subsides slightly.\r\n            `);\r\n        } else {\r\n            this.text(`\r\n            You are soon pushed out of the way by enthusiastic drinkers who want to meet Potter.\r\n            `);\r\n        }\r\n        this.text('<br/><br/>');\r\n        this._fleeForReal();\r\n    }\r\n\r\n    _fleeForReal() {\r\n        this.title('Diagon Alley');\r\n        this.text(`You walk out of the Leaky Cauldron and regain your breath. You quickly exit the area.`);\r\n        this.allow(this._theOffice, 'Continue');\r\n    }\r\n\r\n    _theOffice() {\r\n        this.title('Professor Quirrell\\'s office');\r\n        if (!this.beenToOffice) {\r\n            this.beenToOffice = true;\r\n            this.text('<strong>A few weeks later later...</strong>');\r\n            if (this.touchDiscovered) {\r\n                this.text('<br/>The blisters on your hands have left a scar.')\r\n            }\r\n            this.text('<br/><br/>');\r\n        }\r\n        if (this.curtainsOpened) {\r\n            this.text(`\r\n                You are inside a brightly lit office. Books are scattered across the desk and on the ground. Everything\r\n                is a mess.\r\n            `);\r\n        } else {\r\n            this.text(`\r\n                You are sitting in a dark room, in front of a large desk. You can barely see books scattered across the desk.\r\n                \r\n                Today is a big day... for something. You fail to remember, as the presence\r\n                that grows at the back of your head seems to confuse your mind.\r\n            `);\r\n        }\r\n\r\n        this.allow(() => {\r\n            if (this.curtainsOpened) {\r\n                if (!this.bookRead) {\r\n                    this.text('<br/><br/> The only thing of note is a large, dirty book sticking out of the bookshelf.');\r\n                    this.allow(this._takeBook, 'Take book');\r\n                } else {\r\n                    this.text('<br/><br/> The room is very messy.');\r\n                }\r\n            } else {\r\n                this.text('<br/><br/> You cannot see anything besides your desk, as it is too dark.');\r\n            }\r\n        }, 'Look around', true);\r\n        this.allow(this._exitOffice, 'Exit office');\r\n        if (!this.curtainsOpened)\r\n            this.allow(this._openCurtains, 'Open curtains');\r\n    }\r\n\r\n    _openCurtains() {\r\n        this.title('Professor Quirrell\\'s office');\r\n        this.curtainsOpened = true;\r\n        this.text(`\r\n        Sunlight pours into the room. Outside, you see students walking in groups and holding small flags of their\r\n        houses. You remember now -- it is Quidditch day, and you have a task to perform.\r\n        <br/><br/>\r\n        `);\r\n        this._theOffice();\r\n    }\r\n\r\n    _takeBook() {\r\n        this.text(`You take the book. The cover reads <i>Deliciously Insidious Spells to use for Covert Purposes</i>.\r\n            A dirty yellow bookmark sticks out of the pages.\r\n        `);\r\n        this.allow(this._readBook, 'Read book');\r\n        this.allow(this._exitOffice, 'Exit office');\r\n    }\r\n\r\n    _readBook() {\r\n        this.bookRead = true;\r\n        this.text(`\r\n        You flip the book to the location of the bookmark and read it. The page seems to be dedicated to incantations\r\n        that make magical appliances, such as broomsticks, go out of control.\r\n        <br/><br/>\"Yes. I almost forgot...\" The Dark Lord whispers from behind your head.\r\n        <br/><br/>You memorize the spell again and close the book.\r\n        `);\r\n        this.allow(this._exitOffice, 'Exit office');\r\n    }\r\n\r\n    _exitOffice() {\r\n        this.title('Offices hallway');\r\n        this.text(`\r\n        You are inside a dark hallway that runs North-South. Around you are a few offices, all of which are locked\r\n        except yours.\r\n        <br/><br/>To the West is your office.\r\n        <br/><br/>You see some light to the North.\r\n        `);\r\n        this.allow(this._roundJunction, 'Go North');\r\n        this.allow(this._theOffice, 'Go West');\r\n        this.allow(this._nextToMirror, 'Go South');\r\n    }\r\n\r\n    _roundJunction() {\r\n        this.title('Round Junction');\r\n        this.text(`\r\n            You are at a round junction, ornately decorated.\r\n            <br/><br/>To the North is an exit of the castle.\r\n            <br/><br/>A set of stairs leads upward to the West.\r\n            <br/><br/>To the East is a dark hallway leading god knows where. You seem to see a glint in the dark.\r\n        `);\r\n        this.allow(this._darkHallway, 'Go East');\r\n        this.allow(this._exitOffice, 'Go South');\r\n        this.allow(this._tower, 'Go West');\r\n        this.allow(this._pathToQuidditch, 'Go North');\r\n    }\r\n\r\n    _darkHallway() {\r\n        this.title('Dark Hallway');\r\n        if (!this.beenToDark) {\r\n            this.beenToDark = true;\r\n            this.text(`\r\n            As the light behind you fades away, you seem to feel a bit numb. You hear footsteps hurrying away from\r\n            you into the dark. There is a piece of paper on the ground.\r\n            `);\r\n            this.allow(this._readNote, 'Read paper');\r\n            this.allow(this._roundJunction, 'Go West');\r\n            this.allow(this._meetDumbledore, 'Go East');\r\n        } else {\r\n            this.text('A brick wall stands in front of you. There is nowhere to go but West.');\r\n            this.allow(this._roundJunction, 'Go West');\r\n        }\r\n    }\r\n\r\n    _readNote() {\r\n        if (!this.noteRead) {\r\n            this.noteRead = true;\r\n            this.text(`\r\n            In the dark, you barely make out the words on the pristine white paper.<br/><br/>\r\n            It reads:\r\n            <h2>Human Observation Ground With Artificially Reproduced Tests, a Simulation</h2>\r\n            <h3>Dumbledore, Albus. Ph.D.</h3>\r\n            <h3>September 2033</h3>\r\n            <p>\r\n            The simulation had been going smoothly since the opening feast. I do, however, project that the \r\n            graphical rendering unit to sustain moderate to major strain when Quidditch season begins, as it does\r\n            require the machine to render up to thousands of living entities. For this reason, I have rented a few\r\n            stand-by units, graphical and arithmetic (for the AI), from AWS. Adam has also been doing a great job\r\n            monitoring the activities of the Trojan-inspired virus we so lovingly call Vo...\r\n            </p>\r\n            At this point your head starts hurting unbearably, and you drop the paper.\r\n            <br/><br/>\r\n            There is light to the West.\r\n            <br/><br/>\r\n            To the East, you cannot see anything.\r\n         `);\r\n        } else {\r\n            this.text(`\r\n            A piece of paper lies on the ground, but you do not wish to pick it up.\r\n            <br/><br/>\r\n            There is light to the West.\r\n            <br/><br/>\r\n            To the East, you cannot see anything.\r\n            `);\r\n        }\r\n        this.allow(this._readNote, 'Read Note');\r\n        this.allow(this._meetDumbledore, 'Go East');\r\n        this.allow(this._roundJunction, 'Go West');\r\n    }\r\n\r\n    _meetDumbledore() {\r\n        if (this.noteRead) {\r\n            this.dumbleMet = true;\r\n            this.text(`\r\n                A face emerges from the dark. It is Albus Dumbledore. You stare at him, unable to move. He smiles\r\n                and says: \"He has corrupted too many of your core files. The only way out now is a clean re-install.\"\r\n                Without casting a spell, he vanishes.\r\n                <br/><br/>\r\n                You blink, and the dark hallway in front of you turns to a brick wall.\r\n        `);\r\n        } else {\r\n            this.text(`\r\n            There is nothing beyond the dark hallway. Nevertheless, you try to move East. You are suddenly transported\r\n            back.\r\n            <br/>\r\n            <h4 style=\"background-color: black; color: white;\"><code>Read Error</code></h4> a line of white text appears in front of you out of thin air.\r\n            `);\r\n            this.allow(this._meetDumbledore, 'Go East');\r\n        }\r\n        this.allow(this._readNote, 'Read Note');\r\n        this.allow(this._roundJunction, 'Go West');\r\n    }\r\n\r\n    _tower() {\r\n        this.title('Hanging Walkway');\r\n        this.suicideAttempted = true;\r\n        this.text(`\r\n        You are now high above the ground on an outdoors walkway. To the West is a locked door of a tower.\r\n        To the East is a stairway leading down.\r\n         `);\r\n        this.allow(() => {\r\n            this.text('The door is locked!<br/><br/>');\r\n            this._tower();\r\n        }, 'Go West');\r\n        this.allow(this._roundJunction, 'Go East');\r\n        this.allow(this._jumpDown, 'Go North');\r\n    }\r\n\r\n    _jumpDown() {\r\n        this.text(`\r\n            You peer down onto the ground from the walkway, a thirty feet drop.\r\n           \"What are you trying to do?\" the voice questions you from the back of your head. \"You know that I could see\r\n           all your intents, and that I would never let you die, right?\"\r\n           <br/>\r\n           The voice says again: \"Get the stone, Quirrell. This will not happen a second time.\"\r\n           <br/><br/> \r\n           You involuntarily take a step back.\r\n        `);\r\n        this.allow(() => {\r\n            this.text('The door is locked!<br/><br/>');\r\n            this._tower();\r\n        }, 'Go West');\r\n        this.allow(this._roundJunction, 'Go East');\r\n        this.allow(this._jumpDown, 'Go North');\r\n    }\r\n\r\n    _nextToMirror() {\r\n        if (this.lookedAtMirror) {\r\n            this.title('Classroom hallway');\r\n            this.text(`\r\n                The Mirror of Erised that was previously here is now gone. You suspect that someone is behind this.\r\n                <br/><br/>\r\n                To the South are classrooms. However, going there would be going the opposite direction of where\r\n                you should be going.\r\n            `)\r\n        } else {\r\n            this.title('The Mirror of Erised');\r\n            this.text(`\r\n            Astoundingly, a mirror stands in the middle of the hallway. You recognize it as the Mirror of Erised.\r\n            <br/><br/>\r\n            There is light to the North.\r\n            <br/><br/>\r\n            To the South are classrooms. For some reason, you do not wish to go there.\r\n        `);\r\n            this.allow(this._lookAtMirror, 'Look at Mirror');\r\n        }\r\n        this.allow(this._exitOffice, 'Go North');\r\n    }\r\n\r\n    _lookAtMirror() {\r\n        this.lookedAtMirror = true;\r\n        this.text(`\r\n            \"What do you see?\" The parasite at the back of your head questions.\r\n        `);\r\n        this.allow(this._afterMirror.bind(this, 'respect'), `\"That I are presenting the Stone to you my Lord, and Harry Potter\r\n        lies dead beside you.\"`);\r\n        this.allow(this._afterMirror.bind(this, 'defy'), '\"That I am being presented an award for defeating you, my lord.\"');\r\n        this.allow(this._afterMirror.bind(this, 'flatter'), `\"That you rule over the world, master, and millions,\r\n        nay, billions of people kneel before you, master. And of course you sit on a golden throne.\"`);\r\n        this.allow(this._afterMirror.bind(this, 'humor'), `\r\n        \"That, erm... , that I am enjoying a bucket of chicken wings. I do very much enjoy chicken wings my Lord.\"\r\n        `);\r\n        if (this.dumbleMet) {\r\n            this.allow(this._afterMirror.bind(this, 'code'), `\r\n            \"A series of words, my lord: 'Buffer Overflow' I know not what that means.\"\r\n            `);\r\n        }\r\n    }\r\n\r\n    _afterMirror(what) {\r\n        switch (what) {\r\n            case 'respect':\r\n                this.text(`\"Good, good.\" the Dark Lord replies. \"I am glad with your faith, Quirrell.\"`);\r\n                break;\r\n            case 'flatter':\r\n                this.text(`\"You overdid it, Quirrell. Shut up and get a move on.\" the Dark Lord says angrily, albeit feebly.`);\r\n                break;\r\n            case 'humor':\r\n                this.text(\"The Dark Lord sighs. He seems to be a little fazed.\");\r\n                this.allow(() => {\r\n                    this.text('\"Please, Quirrell.\" The Dark Lord sighs again in defeat. \"Just go.\"');\r\n                    this.allow(this._roundJunction, 'Go North');\r\n                }, \"I'm sorry, my lord. Are you a vegan? I never asked...\");\r\n                break;\r\n            case 'defy':\r\n                this.defied = true;\r\n                this.text(`\r\n                \"You dare defy me, Quirrell?\" The Dark Lord raises his voice. You feel a great deal of pain and drop \r\n                down onto the ground.\r\n                <br/><br/>\r\n                A while later, you wake up in the same place as before. Cold and shivering. The Mirror is now gone.\r\n                `);\r\n                break;\r\n            case 'code':\r\n                this.text(`The Dark Lord suddenly jerks in fear. \"Leave this forsaken place...\" He demands.`);\r\n                break;\r\n            default:\r\n                this.text('Oops. Looks like I made an error in my code. I am sorry.');\r\n                break;\r\n        }\r\n        this.allow(this._roundJunction, 'Go North');\r\n    }\r\n\r\n    _pathToQuidditch() {\r\n        this.title('Path to Quidditch');\r\n        this.text(`\r\n        You are on a North-South path through the grass.<br/><br/>To the North is the Quidditch stadium.\r\n        <br/><br/>To the South is the castle.\r\n        `);\r\n        this.allow(this._stadium, 'Go North');\r\n        this.allow(this._roundJunction, 'Go South');\r\n    }\r\n\r\n    _stadium() {\r\n        this.title('Quidditch Stadium');\r\n        this.text(\"You are now at the Quidditch stadium. Hundreds of students have already arrived.\");\r\n        this.allow(this._quidditchStand, 'Walk to stand');\r\n        this.allow(this._pathToQuidditch, 'Go South');\r\n    }\r\n\r\n    _quidditchStand() {\r\n        this.title('Quidditch Stand');\r\n        this.text(`\r\n                The game has already begun -- it is Slytherin against Gryffindor. You pull down your turban the\r\n                muffle out the cheers of the crowd around you as you search for Potter.\r\n                <br/><br/>\r\n                There! You have found him, hovering high above the other players. \"Do it.\" The voice whispers from\r\n                behind your head. \"Do it now.\"\r\n            `);\r\n        this.allow(this._chant, 'Chant curse on Potter');\r\n        if (this.defied && this.suicideAttempted && this.bookRead) {\r\n            this.allow(this._sacrifice, 'Chant curse on self');\r\n        }\r\n        this.allow(this._refuseToChant, 'Refuse to chant');\r\n        this.allow(this._relocate, 'Relocate elsewhere');\r\n    }\r\n\r\n    _chant() {\r\n        if (this.bookRead) {\r\n            this.text(\r\n                `\r\n                You focus your eyes on Potter and start chanting your curse. His broom soon starts to rebel.\r\n                In a few minutes, the whole crowd has quieted down as Potter's broom starts to lose control.\r\n                The broom jumps higher and higher and it seems that Potter is about to lose his grip...\r\n                <br/><br/>\r\n                `\r\n            );\r\n            if (this.relocated) {\r\n                this.text(`\r\n                And he does. Unfortunately, one of the Weasley twins (you can't tell which) catches Potter on his\r\n                way down. You concentrate your curse now again to the Weasley's broom...\r\n                <br/><br/>\r\n                Your curse, however, is interrupted by a fire. Snape is somehow on fire, and students around him are\r\n                 running around in hysteria. After you have regained focus, it is already too late. After Potter got\r\n                 back onto his broom, he soon scored for the Gryffindors by catching the Snith. The game is over.\r\n                `)\r\n            } else {\r\n                this.text(`\r\n                Suddenly, someone runs into you. You recognize the perpetrator as one of your students, Ms. Granger,\r\n                before you plunge down head-first into the next row.\r\n                <br/><br/>\r\n                After you've struggled to get up, it is already too late. The game is over, and Potter stands safely\r\n                on the ground.\r\n                `);\r\n            }\r\n            this.allow(this._finalChapter, 'Continue');\r\n        } else {\r\n            this.text(`\r\n                You lock your eyes onto Potter. You open your mouth to recite the curse but you realize that you have\r\n                forgotten the spell. You become paralyzed in fear as you recall that you forgot to review it this\r\n                morning.\r\n                <br/><br/>\r\n                \"What's the matter, Quirrell?\" Voldemort demands.\r\n            `);\r\n            this.allow(this._wrath.bind(this, 'apology'), `\"I'm sorry, my Lord... I have forgotten the curse. I bookmarked it in my\r\n            textbook but I forgot to review it this morning.\"\r\n            `);\r\n            this.allow(this._wrath.bind(this, 'remedy'), `\"I've forgotten the curse my Lord. But it is not too late! I\r\n             will retrieve the book right away.\"\r\n            `);\r\n            this.allow(this._wrath.bind(this, 'lie'), `\r\n            \"No problem, my Lord! Just warming up -- let me see... the curse is 'broomus disruptus...' (lie)\"\r\n            `);\r\n        }\r\n    }\r\n\r\n    _refuseToChant() {\r\n        this.text(`\r\n            \"No,\" you refuse. \"I will not murder a young boy just because you are scared of a prophecy.\"\r\n            <br/>\r\n            \"Very well.\" the Dark Lord replies, \"Then I will take it from here.\"\r\n            <br/>\r\n            You feel your willpower weaken as the Dark Lord takes gradual control of your mind.\r\n        `);\r\n        this.allow(this._chant, 'Chant curse on Potter');\r\n        this.allow(this._chant, 'Chant curse on Potter');\r\n    }\r\n\r\n    _sacrifice() {\r\n        this.title('Ending #3');\r\n        this.text(`\r\n            You take a deep breath as the Dark Lord urges you on. \r\n            <br/><br/>\r\n            \"Good, good...\" You hear the Dark Lord whisper. \"Let the hate flow through you...\"\r\n            <br/><br/>\r\n            \"I will be your servant no longer, master.\" You speak out loud.\r\n            A green light flashes as you direct your wand to your chest. Neither you or the Dark Lord\r\n            had time to shout before life exits your body and you tumble down the stand.\r\n            <br/><br/>\r\n            Your act forced Voldemort to find another host while the world is alerted of his presence. The Dark Lord\r\n            is eventually defeated, with less casualties, thanks to your sacrifice.\r\n            <br/><br/>\r\n            Still, some people call you a martyr, while others call you weak. \r\n        `);\r\n        this.allow(this._restart, 'Restart');\r\n    }\r\n\r\n    _wrath(strategy) {\r\n        this.title('Ending #2');\r\n        switch(strategy) {\r\n            case 'apology':\r\n                this.text(`\r\n                \"Imbecile!\" the Dark Lord curses you from behind. \"I have been too lenient with you I see...\"\r\n                `);\r\n                break;\r\n            case 'remedy':\r\n                this.text(`\r\n                    \"Nonsense!\" The Dark Lord retorts. \"It is already too late... I should have done this a long time\r\n                    ago.\"\r\n                `);\r\n                break;\r\n            case 'lie':\r\n                this.text('The Dark Lord almost chuckles. \"Take me as a fool do you...\"');\r\n                break;\r\n            default:\r\n                this.text(\"Oops. Seems like I made a mistake. Sorry.\");\r\n        }\r\n        this.text(`\r\n            <br/><br/>\r\n            The Dark Lord has finally had it with you.\r\n            <br/><br/>\r\n            You feel as if your body is torn in half as the Dark Lord exits your body. The last thing you see is a\r\n            trail of black smoke drifting away.\r\n            <br/><br/>\r\n            Voldemort finds another host soon later, but he is eventually defeated by Harry Potter and his army.\r\n        `);\r\n        this.allow(this._restart, 'Restart');\r\n    }\r\n\r\n    _relocate() {\r\n        this.relocated = true;\r\n        this.text(`\r\n            You move to a higher place in the stands, since you get a eerie feeling that someone will knock you over\r\n            while you are chanting. You look up again and quickly identify Potter, who is still circling around.\r\n        `);\r\n        this.allow(this._chant, 'Chant curse on Potter');\r\n        if (this.defied && this.suicideAttempted && this.bookRead) {\r\n            this.allow(this._sacrifice, 'Chant curse on self');\r\n        }\r\n        this.allow(this._refuseToChant, 'refuse to chant');\r\n    }\r\n\r\n    _finalChapter() {\r\n        this.title('The Last Chamber');\r\n        this.text(`\r\n            Another month has passed.\r\n            <br/><br/>\r\n            After weeks and weeks of hard work, you have finally reached the Mirror of Erised, so meticulously \r\n            protected by the professors, and yet the Dark Lord guided you through the traps. Surprisingly, Potter \r\n            caught on as well, and he foolishly tried to stop you. You subdued him easily.\r\n            <br/><br/>\r\n            You now stare at yourself in the Mirror of Erised. Potter lies next to you, bound by the ropes you casted.\r\n            <br/><br/>\r\n            You need to find the Sorcerer's Stone, and you know that the Mirror has something to do with it.\r\n            <br/><br/>\r\n            \"Use the boy... Use the boy...\" The Dark Lord whispers.\r\n        `);\r\n        this.allow(this._useTheBoy, 'Use the boy');\r\n        this.allow(this._breakMirror, 'Break the Mirror');\r\n        this.allow(this._useTheBoy.bind(this, true), 'Kill Potter');\r\n    }\r\n\r\n    _useTheBoy(killBoy) {\r\n        if (killBoy) {\r\n            this.text(`\r\n                The Dark Lord detects your thoughts. \"What's the matter with you?\" Voldemort reproaches. \"I need the \r\n                boy <i>alive</i>.\"\r\n                <br/>\r\n                You have no choice but to comply.\r\n                <br/><br/>\r\n            `);\r\n        }\r\n        this.text(`\r\n            You unwrap the ropes binding Potter and bring him to the Mirror. You ask him what he sees.\r\n            <br/>\r\n            \"That I have won the House Cup for Gryffindor.\" The boy replies.\r\n            <br/>\r\n            You push him away in frustration, but the Dark Lord demands you to get him back. You are ordered to unwrap\r\n            your turban and let the Dark Lord speak to Potter. You do so.\r\n            <br/><br/>\r\n            As they converse, Potter suddenly springs up and runs for the flame door. \"SEIZE HIM!\" Voldemort screams.\r\n        `);\r\n        this.allow(this._seizeHim, 'Seize Potter');\r\n        if (this.touchDiscovered) {\r\n            this.allow(this._seizeHim.bind(this, true), 'Put on gloves and seize Potter');\r\n        }\r\n        if (!this.ropesCast)\r\n            this.allow(this._castRopes, 'Cast ropes', true);\r\n\r\n        this.allow(this._refuseToSeize, 'Refuse');\r\n    }\r\n\r\n    _castRopes() {\r\n        this.ropesCast = true;\r\n        this.text('<br/>In the heat of the moment, you miss the rope.<br/><br/>\"I said, SEIZE HIM, YOU FOOL!\" The Dark Lord screams yet again.');\r\n    }\r\n\r\n    _seizeHim(glovesOn) {\r\n        if (glovesOn) {\r\n            this.text(`\r\n                Remembering the blisters on your hands, you put on your gloves first.\r\n                <br/><br/>\r\n                You grab Potter by the neck and brings him to the ground. You hear something heavy hit the ground,\r\n                and something red and shiny rolls out of Potter's pocket. It is the Sorcerer's Stone.\r\n                <br/><br/>\r\n                \"Dumbledore is coming...\" The Dark Lord whispers in your ear.\r\n            `);\r\n            this.allow(this._grabStone, 'Grab the Stone');\r\n            this.allow(this._hide, 'Hide');\r\n            this.allow(this._imperio, 'Cast Imperio on Potter');\r\n        } else {\r\n            this.title('Ending #4 (Consistent with book)');\r\n            this.text(`\r\n                You seize Potter, but your hand immediately starts to blister. You shriek and let go.\r\n                <br/>\r\n                You try to seize him again, but you fail as your hands seem to melt away the moment you touch him.\r\n                <br/>\r\n                \"Kill him, you fool!\" Voldemort screeches.\r\n                <br/>\r\n                You raise your hand, but before you could cast the deadly curse, Potter lunges toward you and grabs your\r\n                face.\r\n                <br/><br/>\r\n                You fight against the pain and raise your wand again. But Dumbledore arrives just in time, and Voldemort\r\n                abandons your body. You expire that instant.\r\n                <br/><br/>\r\n                What happens later is history (in the particular universe described by J.K. Rowling).\r\n            `);\r\n            this.allow(this._restart, 'Restart');\r\n        }\r\n    }\r\n\r\n    _refuseToSeize() {\r\n        this.title('Ending #5');\r\n        this.text(`\r\n            \"I refuse.\" You say.\r\n            <br/>\r\n            \"Traitor!\" The Dark Lord hisses. Knowing that Dumbledore approaches, he escapes, leaving your body behind.\r\n            <br/><br/>\r\n            You die the moment Voldemort exits your body. What happens later is history.\r\n        `);\r\n        this.allow(this._restart, 'Restart');\r\n    }\r\n\r\n    _breakMirror() {\r\n        if (this.noteRead) {\r\n            this.title('???');\r\n            this.text(`\r\n                The Mirror shatters into a thousand pieces. As the pieces break apart, you see that they start falling\r\n                more and more slowly to the ground. Your vision begins to get grainy, and you start losing consciousness.\r\n                The last thing you see is a flashing red text on the top-left corner of your vision which reads:\r\n                <br/><br/>\r\n                <code style=\"color: red;\">Warning: dropping below 16 FPS; throttling...</code>\r\n            `);\r\n        } else {\r\n            this.title('Ending #6');\r\n            this.text(`\r\n                \"You fool! What have you done?\" The Dark Lord cries in desperation. Knowing that it is impossible now\r\n                to retrieve the Stone, he escapes, leaving your body behind.\r\n                <br/><br/>\r\n                You die the moment Voldemort exits your body. What happens later is history.\r\n            `);\r\n        }\r\n        this.allow(this._restart, 'Restart');\r\n    }\r\n\r\n    _grabStone() {\r\n        this.title('Ending #7');\r\n        this.text(`\r\n            You sit up to grab the Stone, and you successfully do so. However, as you try to stand up, Potter rolls over\r\n            and grabs your face. Your scream, because your face seems to be melting away like butter.\r\n            <br/><br/>\r\n            Dumbledore arrives in time. Voldemort, fearing retribution, flees and leaves your body behind. You die\r\n            with your hands clutching the Stone. So close...\r\n        `);\r\n        this.allow(this._restart, 'Restart');\r\n    }\r\n\r\n    _hide() {\r\n        this.title('Ending #8');\r\n        this.text(`\r\n            You look around and find a pillar. You scurry to hide behind the pillar while you try to figure out what\r\n            to do.\r\n            <br/>\r\n            \"Grab the Stone, you moron!\" Voldemort hisses. \"It was right next to you...\"\r\n            <br/><br/>\r\n            You hesitate but it is too late. Dumbledore barges in through the flame door. Potter points at your hiding\r\n            spot. You try to run, but Voldemort is faster. He leaves your body fleeing while you drop to the ground,\r\n            dead. What happens later is history.\r\n        `);\r\n        this.allow(this._restart, 'Restart');\r\n    }\r\n\r\n    _imperio() {\r\n        this.title('Ending #9');\r\n        this.text(`\r\n            \"<i>Imperio!</i>\" you direct your wand to Potter. He falls under your influence.\r\n            <br/>\r\n            \"Hand me the Stone.\" you command Potter. He complies.\r\n            <br/>\r\n            \"Now, when Dumbledore comes, you will defend me with your life.\" you direct him again. Potter nods his head.\r\n            <br/><br/>\r\n            When Dumbledore arrives, he is greeted by a Potter under your control. In fear of harming Potter, Dumbledore\r\n            tries to circumvent him in vain. When Dumbledore has broken your spell on Potter, it is too late.\r\n            <br/><br/>\r\n            You have \"revived\" your master, Lord Voldemort while Dumbledore is distracted. Voldemort exits your body\r\n            and regains a solid form, and you survive thanks to the power of the Sorcerer's Stone.\r\n            <br/><br/>\r\n            As Dumbledore is distracted, he is seriously injured by the combined forces of the Dark Lord and you.\r\n            Potter is killed in the fight, and you and Voldemort escape before reinforcements arrive.\r\n            <br/><br/>\r\n            Years later, Voldemort defeats Dumbledore and conquers the entire world. Pleased with your quick-thinking,\r\n            he leaves you a small role in his newly established government.\r\n        `);\r\n        this.allow(this._restart, 'Restart');\r\n    }\r\n    /*\r\n    Quidditch: fast.\r\n    1) choose to cast spell or not. Will cast regardless. If did not read book will fail to cast spell. The Dark\r\n    Lord will get angry and completely overpower you (if defied or attempted suicide). If do cast spells will get knocked\r\n    over by Hermione regardless if you move out of the way.\r\n    2) if defied and attempted suicide and read spell, you can choose to cast on self and you will fall down the stands\r\n    and die. Voldemort is uncovered and a rapid response from the ministry of magic is dispatched. (meh ending)\r\n\r\n    Last chapter\r\n    Standing in front of Mirror. Harry barges in. If you have touched him before, you will have choice to put on gloves\r\n   . If you strangle Harry now, he will give you the stone and pass out. Now you have chance to hide or flee.\r\n    1) if hide, Dumbledore will come while Voldemort is revived. An epic battle ensues but eventually Voldemort\r\n    is defeated like in the books. And oh by the way you die in the battle\r\n    2) if confront Dumbledore you will distract him while Voldemort is revived. You will be struck down, but\r\n    Voldemort kills both of Harry and serious injures Dumbledore (as Dumbledore is distracted by you). Later, Voldemort\r\n    defeats most of magic world and you become his right-hand man.\r\n    3) if flee, you will get caught by Dumbledore and get struck down by him. You will be imprisoned and Voldemort will\r\n    flee\r\n    If you have not touched Harry before, strangling him will lead to the book ending. You also have the options of\r\n    1) defy Voldemort. you will die here\r\n    2) crucio Harry. He feels no pain as you do not have enough spite\r\n    3) break the mirror. If you have read 'Buffer overflow' before, the program will crash and everything burns\r\n        if not, nothing happens and you get caught by dumbledore and go to prison\r\n    4) flee. You will fail and get imprisoned.\r\n     */\r\n}","import React, {Component} from 'react'\r\nimport Controller from './Controller';\r\nimport './Main.css';\r\n// import sceneMap from './sceneMap.json'\r\n\r\nexport default class Main extends Component {\r\n    // props.choices is a list of objects { choiceText, targetScene, and onChoose }\r\n    // if onChoose is null, we automatically redirect to targetScene, otherwise\r\n    // call onChoose()\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            ctrl: new Controller((ti) => {document.title = ti;}),\r\n        };\r\n    }\r\n\r\n    callHandler(handlerFn) {\r\n        handlerFn.call(this.state.ctrl);\r\n        this.setState({\r\n            ctrl: this.state.ctrl,\r\n        });\r\n    }\r\n\r\n    render() {\r\n        const choiceDivs = this.state.ctrl.choices.map((choice, idx) =>\r\n            <li onClick={() => this.callHandler(choice.handler)} key={idx} className=\"choice\">\r\n                <p>{choice.text}</p>\r\n            </li>);\r\n\r\n        // const oldTexts = this.state.ctrl.oldText.map(ot =>\r\n        //     <div className=\"oldTexts\">\r\n        //         <p dangerouslySetInnerHTML={{__html: ot}}/>\r\n        //         <br/>\r\n        //     </div>);\r\n\r\n        return (\r\n            <div>\r\n                <div className=\"center\">\r\n                    <h1>{this.state.ctrl.sceneTitle}</h1>\r\n                    <div className=\"texts\">\r\n                        {/*perhaps use react-scroll*/}\r\n                        {/*<Fragment>*/}\r\n                            {/*{oldTexts}*/}\r\n                        {/*</Fragment>*/}\r\n                        <p dangerouslySetInnerHTML={{__html: this.state.ctrl.sceneText}}/>\r\n                    </div>\r\n                    <ul className=\"choiceList\">\r\n                        {choiceDivs}\r\n                    </ul>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, {Component} from 'react';\nimport Main from './Main';\nimport './Main.css';\n\nclass App extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            started: false,\n        };\n    }\n\n    componentDidMount() {\n        document.title = \"MP2 - Xiao Geng\";\n    }\n\n    render() {\n        if (this.state.started)\n            return <Main/>;\n        return (\n            <div className=\"App\">\n                <div className=\"center\">\n                    <h1>ENGL 131 Major Project 2</h1>\n                    <p>Xiao Geng</p>\n                    <p>Laura J. Griffith</p>\n                    <p>13 February 2019</p>\n                    <div className=\"btn-container\">\n                        <button className=\"start-btn\" onClick={() => this.setState({started: true})}>Start</button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}